#!/usr/bin/env r

# if (is.null(argv) | length(argv)>1) {
#   cat("Usage: run.pipeline pipeline.config.yml\n")
#   cat("\n")
#   q()
# }

p.fast   <- normalizePath("./pipeline/pipeline.fast.yml")
p.bemovi <- normalizePath("./pipeline/pipeline.bemovi.yml")

setwd("/home/rstudio/LEEF")

options(mc.cores = parallel::detectCores() - 1)

library(LEEF)

## Fast Pipeline
LEEF::initialize(p.fastfast)
LEEF::process("RMK")

## bemovi pipeline
LEEF::initialize(p.bemovi)
LEEF::process("RMK")

